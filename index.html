<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…·èº«æ™ºèƒ½ & è‡ªåŠ¨é©¾é©¶æƒ…æŠ¥ç«™</title>
    <style>
        /* --- åŸºç¡€å¸ƒå±€ --- */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            max-width: 800px; margin: 0 auto; padding: 20px 15px;
            background: #f4f6f9; color: #333; font-size: 14px; 
        }
        
        .header { 
            text-align: center; margin-bottom: 25px; padding-bottom: 15px; 
            border-bottom: 1px solid #e1e4e8; background: white; padding: 20px; border-radius: 12px;
        }
        .header h1 { margin: 0 0 10px 0; color: #2c3e50; font-size: 1.8em; }
        .header p { color: #7f8c8d; margin: 0; }
        
        /* --- ç­›é€‰æŒ‰é’® --- */
        .filters { display: flex; gap: 10px; justify-content: center; margin-bottom: 25px; flex-wrap: wrap; }
        .filter-btn {
            background: white; border: 1px solid #dcdfe6; padding: 8px 16px; border-radius: 20px;
            cursor: pointer; color: #606266; transition: all 0.2s; font-size: 0.9em;
        }
        .filter-btn:hover { border-color: #409eff; color: #409eff; }
        .filter-btn.active { background: #409eff; color: white; border-color: #409eff; font-weight: bold; }
        
        /* --- æ–°é—»å¡ç‰‡ (é‡ç‚¹ä¿®æ”¹) --- */
        .card { 
            background: white; border-radius: 10px; padding: 20px; margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04); border: 1px solid #ebeef5;
            transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(0,0,0,0.08); }
        
        /* é¡¶éƒ¨å…ƒæ•°æ® */
        .meta { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; font-size: 0.85em; color: #909399; }
        .tag { padding: 3px 8px; border-radius: 4px; font-weight: 500; font-size: 0.85em; }
        
        /* æ ‡ç­¾é…è‰² */
        .tag-cn { background: #ecf5ff; color: #409eff; }      /* è“ */
        .tag-en { background: #f4f4f5; color: #909399; }      /* ç° */
        .tag-paper { background: #fdf6ec; color: #e6a23c; }   /* æ©™ */

        /* æ ‡é¢˜ */
        .title { 
            font-size: 1.2em; font-weight: 700; color: #303133; margin-bottom: 12px; 
            line-height: 1.5; display: block;
        }
        
        /* --- æ€»ç»“å†…å®¹ (ç›´æ¥æ˜¾ç¤ºï¼Œä¸å†éšè—) --- */
        .summary-box {
            background: #fcfcfc; border-left: 4px solid #409eff;
            padding: 12px 16px; border-radius: 4px; margin-bottom: 15px;
            color: #555; line-height: 1.6; font-size: 0.95em;
        }
        .summary-label { font-weight: bold; color: #409eff; margin-right: 5px; }

        /* åŸæ–‡é“¾æ¥æŒ‰é’® */
        .read-link {
            display: inline-block; text-decoration: none; background: #303133; color: white;
            padding: 6px 14px; border-radius: 6px; font-size: 0.9em; transition: background 0.2s;
        }
        .read-link:hover { background: #000; }
        
        /* --- ç¿»é¡µæ§ä»¶ --- */
        .pagination { 
            display: flex; justify-content: center; align-items: center; gap: 15px; 
            margin-top: 30px; padding-bottom: 20px;
        }
        .page-btn {
            background: white; border: 1px solid #dcdfe6; padding: 8px 20px; 
            border-radius: 20px; cursor: pointer; color: #606266;
        }
        .page-btn:disabled { background: #f5f7fa; color: #c0c4cc; cursor: not-allowed; }
        .page-btn:hover:not(:disabled) { border-color: #409eff; color: #409eff; }
        .page-info { color: #606266; font-weight: 500; }
        
        .loading { text-align: center; padding: 50px; color: #909399; }
    </style>
</head>
<body>

    <div class="header">
        <h1>ğŸ¤– å…·èº«æ™ºèƒ½ & è‡ªåŠ¨é©¾é©¶æƒ…æŠ¥ç«™</h1>
        <p>AI é©±åŠ¨ Â· æ¯æ—¥æ›´æ–° Â· æ·±åº¦æ‘˜è¦</p>
    </div>

    <div class="filters">
        <button class="filter-btn active" onclick="filterData('all')">å…¨éƒ¨</button>
        <button class="filter-btn" onclick="filterData('Paper')">ğŸ“„ è®ºæ–‡</button>
        <button class="filter-btn" onclick="filterData('å…·èº«æ™ºèƒ½')">ğŸ¦¾ å…·èº«æ™ºèƒ½</button>
        <button class="filter-btn" onclick="filterData('è‡ªåŠ¨é©¾é©¶')">ğŸš— è‡ªåŠ¨é©¾é©¶</button>
    </div>

    <div id="list">
        <div class="loading">æ­£åœ¨åŠ è½½æœ€æ–°æ•°æ®...</div>
    </div>

    <div class="pagination" id="pagination" style="display:none;">
        <button class="page-btn" id="prevBtn" onclick="changePage(-1)">â† ä¸Šä¸€é¡µ</button>
        <span class="page-info" id="pageInfo">1 / 1</span>
        <button class="page-btn" id="nextBtn" onclick="changePage(1)">ä¸‹ä¸€é¡µ â†’</button>
    </div>

    <script>
        // --- æ ¸å¿ƒå˜é‡ ---
        let allData = [];       // å­˜æ”¾æ‰€æœ‰æ•°æ®
        let filteredData = [];  // å­˜æ”¾ç­›é€‰åçš„æ•°æ®
        let currentPage = 1;    // å½“å‰é¡µç 
        const itemsPerPage = 6; // æ¯é¡µæ˜¾ç¤ºå‡ æ¡

        // --- 1. åŠ è½½æ•°æ® ---
        // åŠ æ—¶é—´æˆ³é˜²æ­¢ç¼“å­˜
        fetch('data.json?t=' + Date.now())
            .then(res => res.json())
            .then(data => {
                if(!data || data.length === 0) {
                    document.getElementById('list').innerHTML = '<div class="loading">æš‚æ— æ•°æ®ï¼Œè¯·å» Actions è¿è¡Œä¸€æ¬¡æŠ“å–è„šæœ¬ã€‚</div>';
                    return;
                }
                
                // æŒ‰æ—¥æœŸå€’åº (æœ€æ–°çš„åœ¨æœ€å‰)
                data.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                allData = data;
                filteredData = data; // åˆå§‹æ˜¾ç¤ºå…¨éƒ¨
                
                // åˆå§‹åŒ–ç•Œé¢
                renderPage();
                document.getElementById('pagination').style.display = 'flex';
            })
            .catch(err => {
                document.getElementById('list').innerHTML = '<div class="loading">âš ï¸ æ•°æ®è¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥ data.json æ˜¯å¦å­˜åœ¨ã€‚</div>';
            });

        // --- 2. ç­›é€‰åŠŸèƒ½ ---
        function filterData(category) {
            // æŒ‰é’®æ ·å¼åˆ‡æ¢
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // æ•°æ®è¿‡æ»¤
            if(category === 'all') {
                filteredData = allData;
            } else {
                filteredData = allData.filter(item => 
                    item.source.includes(category) || 
                    (category === 'å…·èº«æ™ºèƒ½' && item.source.includes('Embodied')) // å…¼å®¹è‹±æ–‡æ ‡ç­¾
                );
            }
            
            // é‡ç½®å›ç¬¬ä¸€é¡µ
            currentPage = 1;
            renderPage();
        }

        // --- 3. æ¸²æŸ“é¡µé¢ (æ ¸å¿ƒ) ---
        function renderPage() {
            const list = document.getElementById('list');
            list.innerHTML = ''; // æ¸…ç©ºå½“å‰å†…å®¹

            // è®¡ç®—åˆ†é¡µæ•°æ®
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageData = filteredData.slice(start, end);

            // å¦‚æœç­›é€‰åæ²¡æ•°æ®
            if(pageData.length === 0) {
                list.innerHTML = '<div class="loading">è¯¥åˆ†ç±»ä¸‹æš‚æ— å†…å®¹</div>';
                updatePagination();
                return;
            }

            // ç”Ÿæˆå¡ç‰‡
            pageData.forEach(item => {
                // åˆ¤æ–­æ ‡ç­¾é¢œè‰²
                let tagClass = 'tag-cn';
                if(item.lang === 'EN') tagClass = 'tag-en';
                if(item.source.includes('Paper')) tagClass = 'tag-paper';

                // å¤„ç†æ‘˜è¦æ˜¾ç¤ºï¼šå¦‚æœæ²¡æœ‰æ‘˜è¦ï¼Œæ˜¾ç¤ºæç¤º
                const summaryText = item.summary ? item.summary : "æ­£åœ¨ç­‰å¾… AI ç”Ÿæˆæ‘˜è¦...";

                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="meta">
                        <span class="tag ${tagClass}">${item.source}</span>
                        <span>${item.date}</span>
                    </div>
                    <div class="title">${item.title}</div>
                    
                    <div class="summary-box">
                        <span class="summary-label">AI åˆ’é‡ç‚¹ï¼š</span>${summaryText}
                    </div>
                    
                    <a href="${item.link}" target="_blank" class="read-link">é˜…è¯»åŸæ–‡ &rarr;</a>
                `;
                list.appendChild(card);
            });

            // æ›´æ–°é¡µç æŒ‰é’®çŠ¶æ€
            updatePagination();
            
            // å›åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // --- 4. æ›´æ–°ç¿»é¡µæ§ä»¶ ---
        function updatePagination() {
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            const safeTotal = totalPages > 0 ? totalPages : 1;
            
            document.getElementById('pageInfo').innerText = `${currentPage} / ${safeTotal}`;
            document.getElementById('prevBtn').disabled = (currentPage === 1);
            document.getElementById('nextBtn').disabled = (currentPage === safeTotal || totalPages === 0);
        }

        // --- 5. ç¿»é¡µåŠ¨ä½œ ---
        function changePage(direction) {
            currentPage += direction;
            renderPage();
        }
    </script>
</body>
</html>
